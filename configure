#!/bin/bash

PACKAGES=(
	bash
	exa
	gcc
	git
	llvm
	make
	node@16
	npm
	openssl
	pkg-config
	python3
	python@3.9
	readline
	tree
	vim
	vim
	wget
	yarn
	zsh
)

CASKS=(
	1password
	1password-cli
	aldente
	alt-tab
	appcleaner
	arc
	carbon-copy-cloner
	cleanshot
	clion
	coconutbattery
	deepl
	discord
	firefox
	google-chrome
	hiddenbar
	iterm2
	languagetool
	obsidian
	orbstack
	rustdesk
	spotify
	the-unarchiver
	utm
	vlc
	visual-studio-code
	whatsapp
)

NPM_PACKAGES=(
	opencommit
)

MAS_APPS=(
	1278508951 # Trello
	967805235 # Paste
	462054704 # Microsoft Word
	1451685025 # WireGuard
	1157491961 # PLIST Editor
	462058435 # Microsoft Excel
)

# Sudo keep-alive
sudo -v
while true; do sudo -n true; sleep 60; kill -0 "$$" || exit; done 2>/dev/null &

xcode-select --install

which -s brew
if [[ $? != 0 ]]; then
	/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
else
	brew update
fi

brew analytics off

brew install ${PACKAGES[@]}

brew install --cask --appdir="/Applications" ${CASKS[@]}

brew cleanup

npm install -g ${NPM_PACKAGES[@]}

mas install ${MAS_APPS[@]}

echo "Setting up Git"
git config --global core.editor "vim"
git config --global user.name "MalwarePup"
git config --global user.email "71011961+MalwarePup@users.noreply.github.com"

